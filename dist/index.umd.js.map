{"version":3,"file":"index.umd.js","sources":["../src/Mocks/index.ts","../src/utils/index.ts","../src/Fields/Boolean.ts","../src/Fields/Color.ts","../src/Fields/Date.ts","../src/Fields/GeoPoint.ts","../src/Fields/Image.ts","../src/Fields/Link.ts","../src/Fields/Number.ts","../src/Fields/RichText.ts","../src/Fields/Select.ts","../src/Fields/Text.ts","../src/Fields/Timestamp.ts","../src/Fields/alias/LinkToWeb.ts","../src/Fields/alias/LinkToDoc.ts","../src/Fields/alias/LinkToMedia.ts","../src/Fields/alias/Title.ts","../src/Fields/shape.ts","../src/handlers.js"],"sourcesContent":["interface Variation {\n  id: string\n  primary: {\n    [x: string]: any;\n  },\n  items: {\n    [x: string]: any;\n  }\n}\n\ninterface Model {\n  id: string\n  name: string\n  description: string\n  variations: Variation[]\n}\n\nexport const handleField = ({\n  zone,\n  mocks,\n  fieldKey,\n  variation,\n}) => {\n  const { id: variationId } = variation\n  const { __common = {}, ...mockVariations } = mocks\n\n  if (mockVariations?.[variationId]?.[zone]?.[fieldKey]) {\n    return mockVariations[variationId][zone][fieldKey]\n  }\n  if (__common[zone]?.[fieldKey]) {\n    return __common[zone][fieldKey]\n  }\n}\n\nexport const handleVariation = (variation: Variation, zone: string, mocks: { [x: string]: any }) => {\n  const mockedFields = Object.entries(variation.primary).reduce((acc, [key]) => {\n    const maybeField = handleField({\n      zone,\n      mocks,\n      variation,\n      fieldKey: key,\n    })\n    if (maybeField) {\n      return {\n        ...acc,\n        [key]: maybeField\n      }\n    }\n    return acc\n  }, {})\n  return Object.keys(mockedFields).length ? mockedFields : null\n}\n\nexport const handle = (mocks: { [x: string]: any; }, model: Model) => {\n  return model.variations.reduce((acc: { [x: string]: any; }, variation: Variation) => {\n    const maybePrimary = handleVariation(variation, 'primary', mocks)\n    const maybeItems = handleVariation(variation, 'items', mocks)\n    return {\n      ...acc,\n      [variation.id]: {\n        primary: maybePrimary || {},\n        items: maybeItems || {}\n      }\n    }\n  }, {})\n}\n","export const createMockContent = (fn: Function) => () => ({\n  content: fn()\n})\n\nconst camelizeRE = /-(\\w)/g;\nconst hyphenateRE = /\\B([A-Z])/g;\n\nexport const camelize = (str: String) => {\n  return str.replace(/_/g, \"-\").replace(camelizeRE, (_, c) => {\n    return c ? c.toUpperCase() : \"\";\n  })\n}\n\nexport const hyphenate = (str: String) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n","import { createMockContent } from '../utils'\n\ninterface BooleanProps {\n  label?: String\n  placeholderFalse?: String\n  placeholderTrue?: String\n  defaultValue?: Boolean\n}\n\ninterface BooleanPayload {\n  type: String,\n  config: {\n    label: String\n    placeholder_false: String\n    placeholder_true: String\n    default_value: Boolean\n  }\n}\n\nconst Boolean = ({\n  label,\n  placeholderFalse,\n  placeholderTrue,\n  defaultValue\n}: BooleanProps) => (fieldName: String): BooleanPayload => ({\n  type: 'Boolean',\n  config: {\n    label: label || `${fieldName} Boolean`,\n    placeholder_true: placeholderTrue || 'true',\n    placeholder_false: placeholderFalse || 'false',\n    default_value: defaultValue != undefined ? defaultValue : true\n  }\n})\n\nBoolean.Rand = createMockContent(() => Math.random() > .5 ? true : false)\nBoolean.True = createMockContent(() => true)\nBoolean.False = createMockContent(() => false)\n\nexport default Boolean\n","import randomColor from 'randomcolor'\nimport { createMockContent } from '../utils'\n\nimport { DefaultFieldProps, DefaultPayload } from '../utils/types'\n\nconst Color = ({ label = null, placeholder = null }: DefaultFieldProps) =>\n(fieldName: String): DefaultPayload => ({\n  type: 'Color',\n  config: {\n    label: label || `${fieldName} Color`,\n    placeholder: placeholder || `${fieldName} value`,\n  }\n})\n\nColor.Rand = createMockContent(() => randomColor())\nColor.Dark = createMockContent(() => randomColor({ luminosity: 'dark' }))\nColor.Light = createMockContent(() => randomColor({ luminosity: 'light' }))\n\nexport default Color\n","import { createMockContent } from '../utils'\n\nimport { DefaultFieldProps, DefaultPayload } from '../utils/types'\n\nconst _Date = ({ label = null, placeholder = null }: DefaultFieldProps) =>\n(fieldName: String): DefaultPayload => ({\n  type: 'Date',\n  config: {\n    label: label || `${fieldName} Date`,\n    placeholder: placeholder || `${fieldName} value`,\n  }\n})\n\n_Date.Now = createMockContent(() => new Date().toISOString().split('T')[0])\n_Date.Future = createMockContent(() => {\n  let d = new Date()\n  d.setDate(d.getDate() + 7)\n  return d.toISOString().split('T')[0]\n})\n_Date.Past = createMockContent(() => {\n  let d = new Date()\n  d.setDate(d.getDate() - 7)\n  return d.toISOString().split('T')[0]\n})\n\nexport default _Date\n","import { DefaultFieldProps, DefaultPayload } from '../utils/types'\n\nconst GeoPoint = ({ label = null, placeholder = null }: DefaultFieldProps) =>\n(fieldName: String): DefaultPayload => ({\n  type: 'GeoPoint',\n  config: {\n    label: label || `${fieldName} GeoPoint`,\n    placeholder: placeholder || `${fieldName} value`,\n  }\n})\n\nexport default GeoPoint\n","interface ImageFieldProps {\n  constraint: string\n  [x: string]: string\n}\n\ninterface Thumbnail {\n  name: string\n  width: string\n  height: string\n}\n\ninterface ImageFieldPayload {\n  type: string\n  config: {\n    constraint: {\n      width: string\n      height: string\n    }\n    thumbnails: Thumbnail[]\n  }\n}\n\nconst parseString = (str: string, name = null) => {\n  const [width, height] = str.split('x')\n  return {\n    ...name ? {\n      name\n    } : null,\n    height,\n    width,\n  }\n}\n\nconst Image = ({\n  label = null,\n  constraint = \"500x500\",\n  ...thumbnails\n}: ImageFieldProps) =>\n(): ImageFieldPayload => ({\n  type: 'Image',\n  config: {\n    constraint: parseString(constraint),\n    thumbnails: Object.entries(thumbnails ||Â {}).reduce((acc, [key, str]) => ([\n      ...acc,\n      parseString(str, key)\n    ]), [])\n  }\n})\n\nexport default Image\n","import { createMockContent } from '../utils'\n\nexport interface LinkFieldProps {\n  label: string\n  placeholder: string\n  allowTargetBlank?: boolean\n  customTypes?: string[]\n  select?: \"media\" | \"document\"\n}\n\nexport interface LinkFieldPayload {\n  type: string\n  config: {\n    label: string\n    placeholder: string\n    allowTargetBlank?: boolean\n    customtypes?: string[]\n    select?: \"media\" | \"document\"\n  }\n}\n\nconst Link = ({\n  label,\n  placeholder,\n  allowTargetBlank = null,\n  customTypes = null,\n  select = null,\n}: LinkFieldProps = {\n  label: null,\n  placeholder: null,\n}) => (fieldName: string): LinkFieldPayload => ({\n  type: 'Link',\n  config: {\n    label: label || `${fieldName} Link`,\n    placeholder: placeholder || `${fieldName} value`,\n    ...allowTargetBlank ? {\n      allowTargetBlank\n    } : null,\n    ...customTypes ? {\n      customtypes: customTypes\n    } : null,\n    ...select ? {\n      select\n    } : null,\n  }\n})\n\nLink.Web = createMockContent(() => ({\n  link_type: 'Web',\n  url: 'https://github.com/hypervillain/pris-types'\n}))\n\nLink.Document = createMockContent((ct: string = 'fake-document', params = {}) => ({\n  id: \"fake-pris-types-id\",\n  type: ct,\n  tags: [],\n  slug: ct,\n  lang: \"en-us\",\n  link_type: \"Document\",\n  isBroken: false,\n  ...params,\n}))\n\nLink.Media = createMockContent(() => {\n  console.warn('Link.Media is not implemented. Proceeding with Href link.')\n  return {\n    link_type: 'Web',\n    url: 'https://github.com/hypervillain/pris-types'\n  }\n})\n\nexport default Link\n","import { createMockContent } from '../utils'\n\nimport { DefaultFieldProps, DefaultPayload } from '../utils/types'\n\nconst Number = ({ label = null, placeholder = null }: DefaultFieldProps) =>\n(fieldName: String): DefaultPayload => ({\n  type: 'Date',\n  config: {\n    label: label || `${fieldName} Date`,\n    placeholder: placeholder || `${fieldName} value`,\n  }\n})\n\nconst rand = (min: number, max: number) => Math.floor(Math.random() * (max - min) + min)\n\nNumber.Small = createMockContent(() => rand(1, 9))\nNumber.Long = createMockContent(() => rand(1000, 100_000))\nNumber.Negative = createMockContent(() => rand(-1000, -1))\n\nexport default Number\n","export enum RichTextOptionsEnum {\n  p = 'paragraph',\n  pre = 'preformatted',\n  h1 = 'heading1',\n  h2 = 'heading2',\n  h3 = 'heading3',\n  h4 = 'heading4',\n  h5 = 'heading5',\n  h6 = 'heading6',\n  strong = 'strong',\n  em = 'em',\n  link = 'hyperlink',\n  image = 'image',\n  embed = 'embed',\n  list = 'list-item',\n  oList = 'o-list-item',\n  rtl = 'rtl',\n}\n\nexport const RichTextOptions:RichTextOptionsEnum[] = Object.values(RichTextOptionsEnum)\n\nexport interface RichTextProps {\n  label?: string\n  placeholder?: string\n  multi?: Boolean\n  options?: String[]\n}\n\nexport interface RichTextPayload {\n  type: string,\n  config: {\n    label: string\n    multi?: string[],\n    single?: string[],\n    placeholder: string\n  }\n}\n\nconst RichText = ({ label = null, placeholder = null, multi = false, options = RichTextOptions }: RichTextProps) =>\n(fieldName: string): RichTextPayload => ({\n  type: 'StructuredText',\n  config: {\n    label: label || `${fieldName} Richtext`,\n    [multi ? 'multi' : 'single']: options.join(','),\n    placeholder: placeholder || `${fieldName} field`\n  }\n})\n\nconst createConfig = (patternType) => (blocks = 1) => ({\n  config: {\n    patternType,\n    blocks\n  }\n})\n\nRichText.Paragraph = createConfig('PARAGRAPH')\nRichText.Heading = createConfig('HEADING')\nRichText.Story = createConfig('STORY')\n\nexport default RichText","import { createMockContent } from '../utils'\n\ninterface SelectFieldProps {\n  label: string\n  placeholder: string\n  options: string[]\n  defaultValue?: string\n}\n\ninterface SelectFieldPayload {\n  type: string\n  config: {\n    label: string\n    placeholder: string\n    options: string[]\n    default_value?: string\n  }\n}\n\nconst Select = ({\n  label = null,\n  placeholder = null,\n  options = null,\n  defaultValue = null\n\n}: SelectFieldProps = {\n  label: null,\n  placeholder: null,\n  options: ['Option 1', 'Option 2'],\n  defaultValue: null\n}) =>\n(fieldName: String): SelectFieldPayload => ({\n  type: 'Select',\n  config: {\n    label: label || `${fieldName} Select`,\n    placeholder: placeholder || `${fieldName} value`,\n    options,\n    default_value: defaultValue != undefined ? defaultValue : options[0]\n  }\n})\n\nSelect.Option = createMockContent((o: string) => o)\n\nexport default Select\n","import { DefaultFieldProps, DefaultPayload } from '../utils/types'\n\nconst Text = ({ label = null, placeholder = null }: DefaultFieldProps) =>\n(fieldName: String): DefaultPayload => ({\n  type: 'Text',\n  config: {\n    label: label || `${fieldName} Text`,\n    placeholder: placeholder || `${fieldName} value`,\n  }\n})\n\nexport default Text\n","import { createMockContent } from '../utils'\n\nimport { DefaultFieldProps, DefaultPayload } from '../utils/types'\n\nconst Timestamp = ({ label = null, placeholder = null }: DefaultFieldProps) =>\n(fieldName: String): DefaultPayload => ({\n  type: 'Timestamp',\n  config: {\n    label: label || `${fieldName} Timestamp`,\n    placeholder: placeholder || `${fieldName} value`,\n  }\n})\n\nTimestamp.Now = createMockContent(() => new Date().toISOString())\nTimestamp.Future = createMockContent(() => {\n  let d = new Date()\n  d.setDate(d.getDate() + 7)\n  return d.toISOString()\n})\nTimestamp.Past = createMockContent(() => {\n  let d = new Date()\n  d.setDate(d.getDate() - 7)\n  return d.toISOString()\n})\n\nexport default Timestamp\n","import Link from '../Link'\nimport { LinkFieldPayload } from '../Link'\n\ninterface LinkToWebFieldProps {\n  label: string\n  placeholder: string\n  allowTargetBlank?: boolean\n}\n\nconst LinkToWeb = ({\n  label = null,\n  placeholder = null,\n  allowTargetBlank = true\n}: LinkToWebFieldProps) => (fieldName: string): LinkFieldPayload => Link({\n  label,\n  placeholder,\n  allowTargetBlank,\n})(fieldName)\n\nLinkToWeb.Web = Link.Web\n\nexport default LinkToWeb\n","import Link from '../Link'\nimport { LinkFieldPayload } from '../Link'\n\ninterface LinkToDocFieldProps {\n  customTypes: string[],\n  label?: string,\n  placeholder?: string\n}\n\nconst LinkToDoc = ({\n  label = null,\n  placeholder = null,\n  customTypes = []\n}: LinkToDocFieldProps) => (fieldName: string): LinkFieldPayload => Link({\n  label,\n  placeholder,\n  customTypes,\n  select: 'document'\n})(fieldName)\n\nLinkToDoc.Document = Link.Document\n\nexport default LinkToDoc\n","import Link from '../Link'\nimport { LinkFieldPayload } from '../Link'\n\ninterface LinkToMediaFieldProps {\n  label?: string,\n  placeholder?: string\n}\n\nconst LinkToMedia = ({\n  label = null,\n  placeholder = null,\n}: LinkToMediaFieldProps) => (fieldName: string): LinkFieldPayload => Link({\n  label,\n  placeholder,\n  select: 'media'\n})(fieldName)\n\nLinkToMedia.Media = Link.Media\n\nexport default LinkToMedia\n","import RichText from '../RichText'\nimport { RichTextProps, RichTextPayload } from '../RichText'\n\nenum TitleOptionsEnum {\n  h1 = 'heading1',\n  h2 = 'heading2',\n  h3 = 'heading3',\n  h4 = 'heading4',\n  h5 = 'heading5',\n  b = 'bold',\n  em = 'em'\n}\n\nconst TitleOptions: TitleOptionsEnum[] = Object.values(TitleOptionsEnum)\n\nconst Title = ({ label = null, placeholder = null, multi = false, options = TitleOptions }: RichTextProps) =>\n(fieldName: string): RichTextPayload => RichText({ label, placeholder, multi, options })(fieldName)\n\nTitle.Heading = RichText.Heading\n\nexport default Title\n","interface CommonProps {\n  primary?: any\n  items?: any\n}\n\ninterface MetaProps {\n  title: String\n  description: String\n}\n\ninterface FieldsProps {\n  [x: string]: Function\n}\n\nconst _handleFields = (fields = {}): FieldsProps => {\n  return Object.entries(fields).reduce((acc, [key, fn]) => {\n    if (!fn) {\n      throw new Error(`Unknown helper at key \"${key}\". Exiting.`)\n    }\n    const depth = fn.toString().split('=>').length - 1\n    return {\n      ...acc,\n      // @ts-ignore halp!\n      [key]: depth > 1 ? fn({})(key) : fn(key)\n    }\n  }, {})\n}\n\nexport const variation = (zones = { primary: {}, items: {}}) => {\n  const { primary, items } = zones\n\n  return {\n    primary: _handleFields(primary),\n    items: _handleFields(items),\n  } \n}\n\nexport const shape = (obj: { [x: string]: any; __common?: CommonProps, __meta: MetaProps }) => {\n  const { __common = {}, __meta, ...variations } = obj\n  if (!__meta) {\n    throw new Error('Field \"__meta\" is undefined. It expects properties \"title\" and \"description\".')\n  }\n  if (!__meta.title || !__meta.description) {\n    throw new Error('Field \"__meta\" expects properties \"title\" and \"description\".')\n  }\n  const { title, description } = __meta\n  return {\n    title,\n    description,\n    variations: Object.entries(variations).reduce((acc, [key, variation]) => {\n      return [\n        ...acc,\n        {\n          id: key,\n          primary: {\n            ..._handleFields(__common.primary),\n            ...variation.primary,\n          },\n          items: {\n            ..._handleFields(__common.items),\n            ...variation.items,\n\n          }\n        }\n      ]\n    }, [])\n  }\n}\n","import generate from '@babel/generator'\nimport extract from 'babel-extract-named-export'\nimport { config as defaultReactConfiguration } from 'babel-extract-named-export/babel/react'\n\nimport removeImports from 'babel-plugin-transform-remove-imports'\n\nimport * as Types from './Fields'\n\nimport { hyphenate } from './utils'\n\nfunction validate(Model) {\n  if (!Model || !Model.type || ['CallExpression', 'ObjectExpression'].indexOf(Model.type) === -1){\n    return false\n  }\n  return true\n}\n\n/** Extract Expression from file and validate it */\nconst extractModel = async (code, filename, { plugins = [], presets = [] } = defaultReactConfiguration) => {\n  const { Model, Mocks } = await extract(code, {\n    filename,\n    search: ['Model', 'Mocks'],\n    useToJs: false,\n    plugins: [[removeImports, { test: '.*' }], ...plugins],\n    presets,\n  })\n  if (!validate(Model)) {\n    return { err: true }\n  }\n  return { Model, Mocks }\n}\n\nconst prisGenerate = (Model, Mock, sliceName, { requirePath, build } = { build: '' }) => {\n  const code = {\n    model: generate(Model).code,\n    mock: generate(Mock).code,\n  }\n\n  const req = requirePath || `pris-types/dist/index.${build ? `${build}.` : ''}js`\n  const str = `\n    const { PrisTypes, PrisMocks } = require(\"${req}\")\n    const { ${Object.keys(Types).join(', ')} } = PrisTypes\n    const __prisTypesModel = ${code.model}\n\n    const __prisTypesModelWithId = {\n      id: \"${hyphenate(sliceName)}\",\n      ...__prisTypesModel\n    }\n\n    ${!code.mock ? 'return { model: __prisTypesModelWithId}' : `\n      const __prisMocksMock = PrisMocks.handle(${code.mock}, __prisTypesModel)\n      return {\n        model: __prisTypesModelWithId,\n        mockConfig: __prisMocksMock\n      }\n    `}\n  `\n  try {\n    return eval('(function() {' + str + '}())')\n  } catch(e) {\n    return { error: e }\n  }\n}\n\nexport {\n  extractModel,\n  prisGenerate as generate\n}\n"],"names":["handleField","zone","mocks","fieldKey","variation","id","variationId","__common","mockVariations","handleVariation","mockedFields","Object","entries","primary","reduce","acc","key","maybeField","keys","length","handle","model","variations","maybePrimary","maybeItems","items","createMockContent","fn","content","hyphenateRE","hyphenate","str","replace","toLowerCase","Boolean","label","placeholderFalse","placeholderTrue","defaultValue","fieldName","type","config","placeholder_true","placeholder_false","default_value","undefined","Rand","Math","random","True","False","Color","placeholder","randomColor","Dark","luminosity","Light","_Date","Now","Date","toISOString","split","Future","d","setDate","getDate","Past","GeoPoint","parseString","name","width","height","Image","constraint","thumbnails","Link","allowTargetBlank","customTypes","select","customtypes","Web","link_type","url","Document","ct","params","tags","slug","lang","isBroken","Media","console","warn","Number","rand","min","max","floor","Small","Long","Negative","RichTextOptionsEnum","RichTextOptions","values","RichText","multi","options","join","createConfig","patternType","blocks","Paragraph","Heading","Story","Select","Option","o","Text","Timestamp","LinkToWeb","LinkToDoc","LinkToMedia","TitleOptionsEnum","TitleOptions","Title","_handleFields","fields","Error","depth","toString","zones","shape","obj","__meta","title","description","validate","Model","indexOf","extractModel","code","filename","plugins","presets","defaultReactConfiguration","Mocks","extract","search","useToJs","removeImports","test","err","prisGenerate","Mock","sliceName","requirePath","build","generate","mock","req","Types","eval","e","error"],"mappings":"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"}