{"version":3,"file":"index.umd.js","sources":["../src/Mocks/index.ts","../src/utils/index.ts","../src/Fields/Boolean.ts","../src/Fields/Color.ts","../src/Fields/RichText.ts","../src/Fields/alias/Title.ts","../src/Fields/shape.ts","../src/handlers.js"],"sourcesContent":["interface Variation {\n  id: string\n  primary: {\n    [x: string]: any;\n  },\n  items: {\n    [x: string]: any;\n  }\n}\n\ninterface Model {\n  id: string\n  name: string\n  description: string\n  variations: Variation[]\n}\n\nexport const handleField = ({\n  zone,\n  mocks,\n  fieldKey,\n  variation,\n}) => {\n  const { id: variationId } = variation\n  const { __common = {}, ...mockVariations } = mocks\n\n  if (mockVariations?.[variationId]?.[zone]?.[fieldKey]) {\n    return mockVariations[variationId][zone][fieldKey]\n  }\n  if (__common[zone]?.[fieldKey]) {\n    return __common[zone][fieldKey]\n  }\n}\n\nexport const handleVariation = (variation: Variation, zone: string, mocks: { [x: string]: any }) => {\n  const mockedFields = Object.entries(variation.primary).reduce((acc, [key]) => {\n    const maybeField = handleField({\n      zone,\n      mocks,\n      variation,\n      fieldKey: key,\n    })\n    if (maybeField) {\n      return {\n        ...acc,\n        [key]: maybeField\n      }\n    }\n    return acc\n  }, {})\n  return Object.keys(mockedFields).length ? mockedFields : null\n}\n\nexport const handle = (mocks: { [x: string]: any; }, model: Model) => {\n  return model.variations.reduce((acc: { [x: string]: any; }, variation: Variation) => {\n    const maybePrimary = handleVariation(variation, 'primary', mocks)\n    const maybeItems = handleVariation(variation, 'items', mocks)\n    return {\n      ...acc,\n      [variation.id]: {\n        primary: maybePrimary || {},\n        items: maybeItems || {}\n      }\n    }\n  }, {})\n}\n","export const createMockContent = (fn: Function) => () => ({\n  content: fn()\n})\n\nconst camelizeRE = /-(\\w)/g;\nconst hyphenateRE = /\\B([A-Z])/g;\n\nexport const camelize = (str: String) => {\n  return str.replace(/_/g, \"-\").replace(camelizeRE, (_, c) => {\n    return c ? c.toUpperCase() : \"\";\n  })\n}\n\nexport const hyphenate = (str: String) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n","import { createMockContent } from '../utils'\n\ninterface BooleanProps {\n  label?: String\n  placeholderFalse?: String\n  placeholderTrue?: String\n  defaultValue?: Boolean\n}\n\ninterface BooleanPayload {\n  type: String,\n  config: {\n    label: String\n    placeholder_false: String\n    placeholder_true: String\n    default_value: Boolean\n  }\n}\n\nconst Boolean = ({\n  label,\n  placeholderFalse,\n  placeholderTrue,\n  defaultValue\n}: BooleanProps) => (fieldName: String): BooleanPayload => ({\n  type: 'Boolean',\n  config: {\n    label: label || `${fieldName} value`,\n    placeholder_true: placeholderTrue || 'true',\n    placeholder_false: placeholderFalse || 'false',\n    default_value: defaultValue != undefined ? defaultValue : true\n  }\n})\n\nBoolean.Rand = createMockContent(() => Math.random() > .5 ? true : false)\nBoolean.True = createMockContent(() => true)\nBoolean.False = createMockContent(() => false)\n\nexport default Boolean\n","import randomColor from 'randomcolor'\nimport { createMockContent } from '../utils'\n\nimport { DefaultFieldProps, DefaultFieldConfig } from '../utils/types'\n\ninterface ColorPayload {\n  type: String,\n  config: DefaultFieldConfig\n}\n\nconst Color = ({ label = null, placeholder = null }: DefaultFieldProps) =>\n(fieldName: String): ColorPayload => ({\n  type: 'Color',\n  config: {\n    label: label || `${fieldName} Color`,\n    placeholder: placeholder || `${fieldName} value`,\n  }\n})\n\nColor.Rand = createMockContent(() => randomColor())\nColor.Dark = createMockContent(() => randomColor({ luminosity: 'dark' }))\nColor.Light = createMockContent(() => randomColor({ luminosity: 'light' }))\n\nexport default Color\n","export enum RichTextOptionsEnum {\n  h1 = 'heading1',\n  h2 = 'heading2',\n  h3 = 'heading3',\n  paragraph = \"paragraph\"\n}\n\nexport const RichTextOptions:RichTextOptionsEnum[] = Object.values(RichTextOptionsEnum)\n\nexport interface RichTextProps {\n  placeholder?: String\n  multi?: Boolean\n  options?: String[]\n}\n\nexport interface RichTextPayload {\n  type: String,\n  config: {\n    multi?: String[],\n    single?: String[],\n    placeholder: String\n  }\n}\n\nconst RichText = ({ placeholder = null, multi = false, options = RichTextOptions }: RichTextProps) =>\n(fieldName: String): RichTextPayload => ({\n  type: 'StructuredText',\n  config: {\n    [multi ? 'multi' : 'single']: options.join(','),\n    placeholder: placeholder || `${fieldName} field`\n  }\n})\n\nconst createConfig = (patternType) => (blocks = 1) => ({\n  config: {\n    patternType,\n    blocks\n  }\n})\n\nRichText.Paragraph = createConfig('PARAGRAPH')\nRichText.Heading = createConfig('HEADING')\nRichText.Story = createConfig('STORY')\n\nexport default RichText","import RichText from '../RichText'\nimport { RichTextProps, RichTextPayload } from '../RichText'\n\nenum TitleOptionsEnum {\n  h1 = 'heading1',\n  h2 = 'heading2',\n  h3 = 'heading3',\n  h4 = 'heading4',\n  h5 = 'heading5',\n  b = 'bold',\n  em = 'em'\n}\n\nconst TitleOptions: TitleOptionsEnum[] = Object.values(TitleOptionsEnum)\n\nconst Title = ({ placeholder = null, multi = false, options = TitleOptions }: RichTextProps) =>\n(fieldName: String): RichTextPayload => RichText({ placeholder, multi, options })(fieldName)\n\nObject.entries(RichText).forEach(([key, fn]) => {\n  Title[key] = fn\n})\n\nexport default Title\n","interface CommonProps {\n  primary?: any\n  items?: any\n}\n\ninterface MetaProps {\n  title: String\n  description: String\n}\n\ninterface FieldsProps {\n  [x: string]: Function\n}\n\nconst _handleFields = (fields = {}): FieldsProps => {\n  return Object.entries(fields).reduce((acc, [key, fn]) => {\n    const depth = fn.toString().split('=>').length - 1\n    return {\n      ...acc,\n      // @ts-ignore halp!\n      [key]: depth > 1 ? fn({})(key) : fn(key)\n    }\n  }, {})\n}\n\nexport const variation = (zones) => {\n  const { primary, items, id } = zones\n\n  return {\n    ...id ? { id } : null,\n    primary: _handleFields(primary),\n    items: _handleFields(items),\n  } \n}\n\nexport const shape = (obj: { [x: string]: any; __common?: CommonProps, __meta: MetaProps }) => {\n  const { __common = {}, __meta, ...variations } = obj\n  const { title, description } = __meta\n  return {\n    title,\n    description,\n    variations: Object.entries(variations).reduce((acc, [key, variation]) => {\n      return [\n        ...acc,\n        {\n          id: key,\n          primary: {\n            ...variation.primary,\n            ..._handleFields(__common.primary)\n          },\n          items: {\n            ...variation.items,\n            ..._handleFields(__common.items)\n\n          }\n        }\n      ]\n    }, [])\n  }\n}\n","import generate from '@babel/generator'\nimport extract from 'babel-extract-named-export'\nimport { react as defaultReactConfiguration } from 'babel-extract-named-export/babel'\n\nimport removeImports from 'babel-plugin-transform-remove-imports'\n\nimport * as Types from './Fields'\n\nimport { hyphenate } from './utils'\n\nfunction validate(Model) {\n  if (!Model || !Model.type || ['CallExpression', 'ObjectExpression'].indexOf(Model.type) === -1){\n    return false\n  }\n  return true\n}\n\n/** Extract Expression from file and validate it */\nconst extractModel = async (code, filename, { plugins = [], presets = [] } = defaultReactConfiguration) => {\n  const { Model, Mocks } = await extract(code, {\n    filename,\n    search: ['Model', 'Mocks'],\n    useToJs: false,\n    plugins: [[removeImports, { test: 'pris-types' }], ...plugins],\n    presets,\n  })\n  if (!validate(Model)) {\n    return { err: true }\n  }\n  return { Model, Mocks }\n}\n\nconst prisGenerate = (Model, Mock, sliceName, { requirePath, build } = { build: '' }) => {\n  const code = {\n    model: generate(Model).code,\n    mock: generate(Mock).code,\n  }\n\n  const req = requirePath || `pris-types/dist/index.${build ? `${build}.` : ''}js`\n  const str = `\n    const { PrisTypes, PrisMocks } = require(\"${req}\")\n    const { ${Object.keys(Types).join(', ')} } = PrisTypes\n    const __prisTypesModel = ${code.model}\n\n    const __prisTypesModelWithId = {\n      id: \"${hyphenate(sliceName)}\",\n      ...__prisTypesModel\n    }\n\n    ${!code.mock ? 'return { model: __prisTypesModelWithId}' : `\n      const __prisMocksMock = PrisMocks.handle(${code.mock}, __prisTypesModel)\n      return {\n        model: __prisTypesModelWithId,\n        mockConfig: __prisMocksMock\n      }\n    `}\n  `\n  try {\n    return eval('(function() {' + str + '}())')\n  } catch(e) {\n    console.error(e)\n    return { error: e }\n  }\n}\n\nexport {\n  extractModel,\n  prisGenerate as generate\n}\n"],"names":["handleField","zone","mocks","fieldKey","variation","id","variationId","__common","mockVariations","handleVariation","mockedFields","Object","entries","primary","reduce","acc","key","maybeField","keys","length","handle","model","variations","maybePrimary","maybeItems","items","createMockContent","fn","content","hyphenateRE","hyphenate","str","replace","toLowerCase","Boolean","label","placeholderFalse","placeholderTrue","defaultValue","fieldName","type","config","placeholder_true","placeholder_false","default_value","undefined","Rand","Math","random","True","False","Color","placeholder","randomColor","Dark","luminosity","Light","RichTextOptionsEnum","RichTextOptions","values","RichText","multi","options","join","createConfig","patternType","blocks","Paragraph","Heading","Story","TitleOptionsEnum","TitleOptions","Title","forEach","_handleFields","fields","depth","toString","split","zones","shape","obj","__meta","title","description","validate","Model","indexOf","extractModel","code","filename","plugins","presets","defaultReactConfiguration","Mocks","extract","search","useToJs","removeImports","test","err","prisGenerate","Mock","sliceName","requirePath","build","generate","mock","req","Types","eval","e","console","error"],"mappings":"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"}